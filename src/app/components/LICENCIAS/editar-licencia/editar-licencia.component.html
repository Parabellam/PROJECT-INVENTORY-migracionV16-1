<div
  *ngIf="
    permissions.permi6lic == 'JnNCNG8fu9OD9pS' ||
    permissions.permi6lic == 'M9Csxpgi4jkdt4n'
  "
  class="calambombo"
>
  <div class="card container mb-4 shadow-lg p-3 co w-50" data-aos="fade-right">
    <h3 class="text-center">Editar Licencia</h3>
    <hr />
    <form action="" #f="ngForm" class="form">
      <div class="accordion co" id="accordionExample">
        <div class="accordion-item co">
          <h2 class="accordion-header" id="headingOne">
            <button
              class="accordion-button"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseOne"
              aria-expanded="true"
              aria-controls="collapseOne"
            >
              Clasificación de Inventario
            </button>
          </h2>
          <div
            id="collapseOne"
            class="accordion-collapse collapse show"
            aria-labelledby="headingOne"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <div class="col">
                <div class="mt-2">
                  <label for="" class="pa">Nombre</label>
                  <input
                    type="text"
                    name="nombre"
                    id="nombre"
                    class="form-control"
                    [(ngModel)]="licencia.nombre"
                    required
                  />
                </div>
                <div class="mt-2">
                  <label for="" class="pa">Tipo</label>
                  <input
                    type="text"
                    name="tipo"
                    id="tipo"
                    class="form-control"
                    [(ngModel)]="licencia.tipo"
                    required
                  />
                </div>
              </div>
              <div class="mt-2">
                <label for="" class="pa">Versión</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.version"
                  name="version"
                  id="version"
                  required
                />
              </div>
              <div class="mt-2">
                <label for="" class="pa">Fabricante</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.fabricante"
                  name="fabricante"
                  id="fabricante"
                  required
                />
              </div>
              <div class="mt-2">
                <label for="" class="pa">Serial</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.serial"
                  name="serial"
                  id="serial"
                  required
                />
              </div>
            </div>
          </div>
        </div>

        <div class="accordion-item co mt-2">
          <h2 class="accordion-header" id="headingThree">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseThree"
              aria-expanded="false"
              aria-controls="collapseThree"
            >
              Datos de Facturación
            </button>
          </h2>
          <div
            id="collapseThree"
            class="accordion-collapse collapse"
            aria-labelledby="headingThree"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <div class="mt-2">
                <label for="" class="pa">Fecha</label>
                <input
                  type="date"
                  name="fecha"
                  id="fecha"
                  class="form-control"
                  [(ngModel)]="licencia.fecha"
                  (ngModelChange)="updateMinDate()"
                  [min]="minDate"
                  required
                  [max]="currentDate"
                />
              </div>
              <div class="mt-2">
                <label for="" class="pa">Factura</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.factura"
                  name="factura"
                  id="factura"
                  required
                />
              </div>
              <div class="mt-2">
                <label for="" class="pa">Orden de Compra</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.orden_compra"
                  name="orden_compra"
                  id="orden_compra"
                  required
                />
              </div>
              <div class="mt-2">
                <label for="" class="pa">Ruta Archivo</label>
                <input
                  class="form-control"
                  [(ngModel)]="licencia.rutaArchivo"
                  name="rutaArchivo"
                  id="rutaArchivo"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="accordion-item co mt-2">
          <h2 class="accordion-header" id="headingFour">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#collapseFour"
              aria-expanded="false"
              aria-controls="collapseFour"
            >
              Otros
            </button>
          </h2>

          <div
            id="collapseFour"
            class="accordion-collapse collapse"
            aria-labelledby="headingFour"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <div class="mt-2">
                <label for="">Equipo Asignado</label>
                <select
                  multiple
                  [(ngModel)]="licencia.equipos"
                  name="licencias"
                  class="form-select"
                  disabled
                >
                  <ng-container *ngFor="let item of licenciasEquipos">
                    <option
                      *ngIf="clienteSeleccionado != 'Nexos'"
                      [value]="item"
                    >
                      {{ item.codigo_equipo }}
                    </option>
                    <option
                      *ngIf="clienteSeleccionado == 'Nexos' && item.codigo == 1"
                      [value]="item"
                    >
                      03-{{ item.codigo_equipo }}
                    </option>
                    <option
                      *ngIf="clienteSeleccionado == 'Nexos' && item.codigo == 2"
                      [value]="item"
                    >
                      04-{{ item.codigo_equipo }}
                    </option>
                  </ng-container>
                </select>
              </div>
              <div class="mt-2">
                <label for="" class="pa">Observaciones</label>
                <textarea
                  name="observaciones"
                  cols="70"
                  rows="4"
                  class="form-control"
                  [(ngModel)]="licencia.observaciones"
                ></textarea>
              </div>
              <div class="mt-2" *ngIf="licencia.estado == 'Disponible'">
                <label for="" class="form-label">¿De Baja?</label>
                <select
                  class="form-select text-uppercase"
                  aria-label="Default select example"
                  name="estado"
                  id="estado"
                  [(ngModel)]="licencia.mostrar"
                  required
                >
                  <option *ngFor="let item of mostrar">{{ item }}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <hr class="mt-3" />

        <div class="pa">
          <div class="form-group float-end mt-2 d-flex">
            <button
              class="btn bot btn-sm"
              (click)="onUpdate()"
              [disabled]="f.invalid"
            >
              Actualizar
            </button>
            <button class="btn botr btn-sm" [routerLink]="['/licencias/ver']">
              Regresar
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <br />
</div>
